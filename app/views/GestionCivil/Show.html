#{extends 'main.html'/}

<div class="container">
    <div class="row">
        <div class="col-12">
            <h3>Modifier un civil [${model.id}]</h3>
        #{form @GestionCivil.Modify(), method:'POST'}
            <input type="text" name="civil.id" value="${model.id}" hidden>
            <div class="form-group">
                <label for="nom">Nom</label>
                <input type="text" id="nom" class="form-control" name="civil.nom" value="${model.nom}">
                <span class="error">#{error 'civil.nom'/}</span>
            </div>
            <div class="form-group">
                <label for="prenom">Prénom</label>
                <input type="text" id="prenom" class="form-control" name="civil.prenom" value="${model.prenom}">
                <span class="error">#{error 'civil.prenom'/}</span>
            </div>
            <div class="form-group">
                <label>Civilité</label>
                <div class="row">
                    <div class="form-check col-2 ml-3">
                        <input class="form-check-input" type="radio" name="civil.civilite" id="civiliteH"
                               value="H" ${model.civilite == "H" ? "checked" : ""}>
                        <label class="form-check-label" for="civiliteH">
                            Homme
                        </label>
                    </div>
                    <div class="form-check col-2 ml-3">
                        <input class="form-check-input" type="radio" name="civil.civilite" id="civiliteF"
                               value="F" ${model.civilite == "F" ? "checked" : ""}>
                        <label class="form-check-label" for="civiliteF">
                            Femme
                        </label>
                    </div>
                    <div class="form-check col-2 ml-3">
                        <input class="form-check-input" type="radio" name="civil.civilite" id="civiliteA"
                               value="A" ${model.civilite == "A" ? "checked" : ""}>
                        <label class="form-check-label" for="civiliteA">
                            Autre
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="mail">Adresse e-mail</label>
                <input type="email" id="mail" class="form-control" name="civil.mail" value="${model.mail}">
                <span class="error">#{error 'civil.mail'/}</span>
            </div>
            <div class="form-group">
                <label for="tel">Téléphone</label>
                <input type="tel" id="tel" class="form-control" name="civil.tel" value="${model.tel}">
                <span class="error">#{error 'civil.tel'/}</span>
            </div>

            <div class="form-group">
                <label for="id_admin">Droits administratifs</label>
                <select name="civil.id_admin" id="id_admin" class="form-control">
                    <option value="1" ${model.id_admin == 1 ? "selected" : ""}>1 - Civil</option>
                    <option value="2" class="text-primary" ${model.id_admin == 2 ? "selected" : ""}>2 - Administrateur</option>
                    <option value="3" class="text-danger" ${model.id_admin == 3 ? "selected" : ""}>3 - Maître suprême</option>
                </select>
            </div>
            <div class="form-group">
                <label for="dateNaissance">Date de naissance</label>
                <input type="date" id="dateNaissance" class="form-control" name="civil.dateNaissance"
                       value="${model.dateNaissance != null ?model.dateNaissance.toString().substring(0,10) : null}">
                <span class="error">#{error 'civil.dateNaissance'/}</span>
            </div>
            <div class="form-group">
                <label for="" adresse>Adresse</label>
                <input type="text" id="adresse" class="form-control" name="civil.adresse" value="${model.adresse}">
                <span class="error">#{error 'civil.adresse'/}</span>
            </div>
            <div class="form-group">
                <label for="cp">Code postal</label>
                <input type="text" id="cp" class="form-control" name="civil.cp" value="${model.cp}">
                <span class="error">#{error 'civil.cp'/}</span>
            </div>
            <div class="form-group">
                <label for="ville">Ville</label>
                <input type="text" id="ville" class="form-control" name="civil.ville" value="${model.ville}">
                <span class="error">#{error 'civil.ville'/}</span>
            </div>
            <div class="form-group">
                <label for="nation">Nation</label>
                <input type="text" id="nation" class="form-control" name="civil.nation" value="${model.nation}">
                <span class="error">#{error 'civil.nation'/}</span>
            </div>
            <div class="form-group">
                <label for="dateMort">Date de décès</label>
                <input type="date" id="dateMort" class="form-control" name="civil.dateMort"
                       value="${model.dateMort != null ? model.dateMort.toString().substring(0,10) : null}">
                <span class="error">#{error 'civil.dateMort'/}</span>
            </div>
            <input type="submit" value="Confirmer" class="btn btn-outline-success float-right">

        #{/form}
        #{a @GestionCivil.List()}Retour à la liste#{/a}
        </div>
    </div>

</div>
